let pokemonRepository=function(){let t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=151";function n(e){t.push(e)}function i(t){let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){t.id=e.id,t.imageUrl=e.sprites.other.home.front_default,t.shinyImageUrl=e.sprites.other.home.front_shiny,t.height=e.height,t.weight=e.weight,t.types=e.types}).catch(function(t){console.error(t)})}function o(t){i(t).then(function(){!function(t){let e=$(".modal-body"),n=$(".modal-title");n.empty(),e.empty();let i=$("<h1>#"+t.id+" "+t.name+"</h1>"),o=$('<img class="modal-img" id="pokemonNormalImg" style="width:50%">');o.attr("src",t.imageUrl);let l=$('<img class="modal-shiny-img hidden" id="pokemonShinyImg" style="width:50%">');l.attr("src",t.shinyImageUrl);let a=$("<p>Height: "+t.height/10+" m</p>"),r=$("<p>Weight: "+t.weight/10+" kg</p>");n.append(i),e.append(o),e.append(l),e.append(a),e.append(r),t.types.forEach(t=>{let n=$("<p>Type: "+t.type.name+"</p>");e.append(n)});let s=document.createElement("div");s.classList.add("form-check");let c=document.createElement("input");c.classList.add("form-check-input"),c.setAttribute("type","checkbox"),c.setAttribute("id","check");let d=document.createElement("label");d.classList.add("form-check-label"),d.setAttribute("for","check"),d.innerText="Shiny",s.appendChild(c),s.appendChild(d),e.append(s),c.addEventListener("click",function(){!function(){let t=document.getElementById("pokemonNormalImg");document.getElementById("pokemonShinyImg").classList.toggle("hidden"),t.classList.toggle("hidden")}()})}(t)})}return{add:n,getAll:function(){return t},addListItem:function(t){(async function(t){let e=await fetch(t.detailsUrl),n=await e.json();return t.spriteUrl=n.sprites.other["official-artwork"].front_default,n})(t).then(()=>{let{name:e,spriteUrl:n}=t,i=document.querySelector(".list-group"),l=document.createElement("li");l.classList.add("group-list-item");let a=document.createElement("button");a.innerHTML=`\n                    <img src='${n}' alt='${e}'/>\n                    <p>${e}</p>\n                    `,a.classList.add("btn","btn-primary"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#PokedexModal"),l.appendChild(a),i.appendChild(l),a.addEventListener("click",function(){o(t)})})},loadList:function(){return fetch(e).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){n({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:i,showDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})}),$(document).ready(function(){$("#search-input").on("keyup",function(){let t=$(this).val().toLowerCase();$(".group-list-item").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>=0)})})});
